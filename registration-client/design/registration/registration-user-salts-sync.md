**Design - Registration user's salt sync**

**Background**

As part of the application login, the RO/RS will provide the credentials to authenticate. To make more secure for the RO/RS password we will do the secure hash using the SALT[random alphanumeric string]. Salt belongs to each user seperately. 

For the below cases the salt is not being used : 
                                                1. Intital setup login 
												2. User on-boarding to the machine. 
											    In these cases the application must be in online and the authentication will be performed directly from the server
												by generating the token. 

In the sub-seqeunct sync calls the user credentials and user's salt will be downaloaded and peristed to the databse for offline purpose.


The **target users** are

-   User password salt[Login] sync Server
-   Officer/Supervisor
-   Application


The key **requirements** are

- Server sends only the User data of users mapped to the specific Registration Center that the USB device/Machine belongs to.

- Data of existing users in the client is updated and data of new users is added.

The key **non-functional requirements** are

-   The server call should be https mode.
-   The reuqest and response should be signed.
-   The token should be forwarded in the request header. If the system initialtes from batch mode then the token should be generated by using the batch id/secret
	If the system initates from the manual trigger then the token should be generated by using the users credentials. [Either Password or OTP]
	
**Solution**

1.	Registration user's salt  information should be downloaded from server to client.
-	Frequency of execution – configurable based on the job frequency [Automatic], "Sync Data" menu will be listed in the Menu section provided to the user.

2.	The configuration information should be get from the SyncJOBDef table.

3.	While downloading the information based on the center ID, the user's salt details should be pulled. 

4. The user's salt will be store into the user detail table.
 

**Sequence and Class Diagram**
![Registration user role sync Sequence diagram](_images/reg_center_user_credentials_sync.png)
    